from email import message
from aiogram import types, Dispatcher
from aiogram.dispatcher.filters import Command, Text
from aiogram.types import ReplyKeyboardMarkup, KeyboardButton, ReplyKeyboardRemove
from create_bot import dp, bot
from keyboards import kb_client, kb_direct
from handlers import news, company, direct, docks, EBITDA, person
from googleDisk import google


aut_id = google.id_telegram()
aut_id.append(225923687)

# –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∫–æ–º–º–∞–Ω–¥—ã
async def command_start(message: types.Message):
    try:
        await bot.send_message(message.from_user.id, 'test', reply_markup=kb_client)
        print(message)
    except:
        await message.answer("–ü—à–µ–ª —Ç—ã! –ø–µ–¥–∏–∫")
#    if autentication(message):
#        await send_dir(message)
#        for item in aut_id:
#            await bot.send_message(item, '–ü—Ä–∏–≤–µ—Çüëã\n–Ø —Ç–≤–æ–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ ü§ñ. –ú–æ–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–µ –º–æ–≥—É—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å—Å—è –∫–∞–∫ –º–µ–Ω—è –Ω–∞–∑—ã–≤–∞—Ç—å. –û–Ω–∏ –º–Ω–µ —Å–∫–∞–∑–∞–ª–∏, —á—Ç–æ –≤–∞–∂–Ω–æ –º–Ω–µ–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –∏ –ø–æ–ø—Ä–æ—Å–∏–ª–∏ —Å–ø—Ä–æ—Å–∏—Ç—å —É —Ç–µ–±—è. –û—Ç–ø—Ä–∞–≤—å, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–≤–æ–π –≤–∞—Ä–∏–∞–Ω—Ç –º–æ–µ–≥–æ –∏–º–µ–Ω–∏ –æ—Ç–≤–µ—Ç–æ–º –Ω–∞ —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ.')
#
#    else:
#        for item in aut_id:
#            await bot.send_message(item, '–ü—Ä–∏–≤–µ—Çüëã\n–Ø —Ç–≤–æ–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ ü§ñ. –ú–æ–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–µ –º–æ–≥—É—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å—Å—è –∫–∞–∫ –º–µ–Ω—è –Ω–∞–∑—ã–≤–∞—Ç—å. –û–Ω–∏ –º–Ω–µ —Å–∫–∞–∑–∞–ª–∏, —á—Ç–æ –≤–∞–∂–Ω–æ –º–Ω–µ–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –∏ –ø–æ–ø—Ä–æ—Å–∏–ª–∏ —Å–ø—Ä–æ—Å–∏—Ç—å —É —Ç–µ–±—è. –û—Ç–ø—Ä–∞–≤—å, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–≤–æ–π –≤–∞—Ä–∏–∞–Ω—Ç –º–æ–µ–≥–æ –∏–º–µ–Ω–∏ –æ—Ç–≤–µ—Ç–æ–º –Ω–∞ —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ.')

#        await send_dir(message)
#        await bot.send_message(message.from_user.id, f'–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –±–æ—Ç—É –æ—Ç–ø—Ä–∞–≤—å—Ç–µ @lisenokstr –í–∞—à–∏ –§–ò–û, –∞–¥—Ä–µ—Å –ª–∏—á–Ω–æ–π —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã –∏ id {message.from_user.id}', reply_markup=kb_client)
        #aut_id.append(message.from_user.id)

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
def autentication(message):
    for item in aut_id:
        if message.chat.id == item:
            return True


# –û–±—Ä–∞—â–µ–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∞
async def send_dir(message):
    photo = open('photo_dir.jpg', 'rb')
    await bot.send_photo(message.from_user.id, photo, '–î–æ—Ä–æ–≥–∏–µ –∫–æ–ª–ª–µ–≥–∏ –∏ –¥—Ä—É–∑—å—è!')
    await bot.send_message(message.from_user.id, '–ù–∞—à–∞ –∫–æ–º–ø–∞–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Å 2005 –≥–æ–¥–∞. –° —Å–∞–º–æ–≥–æ –Ω–∞—á–∞–ª–∞ –º—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –¥–ª—è —Å–µ–±—è —Ä—è–¥ –∫–ª—é—á–µ–≤—ã—Ö —Ü–µ–Ω–Ω–æ—Å—Ç–µ–π, –∫–æ—Ç–æ—Ä—ã–º–∏ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤—É–µ–º—Å—è –≤ –Ω–∞—à–µ–π —Ä–∞–±–æ—Ç–µ –∏ –≤ –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è. –í—Å–µ –æ–Ω–∏ –æ—Ç—Ä–∞–∂–µ–Ω—ã –≤ –ü—Ä–∏–Ω—Ü–∏–ø–∞—Ö –∏ –ø–æ–ª–∏—Ç–∏–∫–∞—Ö –∫–æ–º–ø–∞–Ω–∏–∏ ‚Äì –¥–æ–∫—É–º–µ–Ω—Ç—É, –∑–Ω–∞–∫–æ–º–æ–º—É –∫–∞–∂–¥–æ–º—É –∏–∑ –≤–∞—Å. –ù–µ–∏–∑–º–µ–Ω–Ω–æ–µ —Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∏–º –≤ –ª—é–±–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞—à–µ–π –∫–æ–º–ø–∞–Ω–∏–∏ —Å —á–µ—Å—Ç—å—é –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —á–µ—Ä–µ–∑ –≤—Å–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –ø—Ä–æ–¥–æ–ª–∂–∞—è —Ä–∞–∑–≤–∏–≤–∞—Ç—å—Å—è –∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å. \n–Ø —Ö–æ—Ç–µ–ª –±—ã –≤—ã—Ä–∞–∑–∏—Ç—å –ø—Ä–∏–∑–Ω–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–∞–∂–¥–æ–º—É –∏–∑ –≤–∞—Å –∑–∞ —É—á–∞—Å—Ç–∏–µ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–∑–≤–∏—Ç–∏—è –∫–æ–º–ø–∞–Ω–∏–∏. –ò–º–µ–Ω–Ω–æ –±–ª–∞–≥–æ–¥–∞—Ä—è –≤–∞–º –º—ã –∑–∞–Ω–∏–º–∞–µ–º –ª–∏–¥–∏—Ä—É—é—â–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –≤ –∞–≤—Ç–æ–º–æ–±–∏–ª—å–Ω–æ–º –±–∏–∑–Ω–µ—Å–µ —Å–≤–æ–µ–≥–æ —Ä–µ–≥–∏–æ–Ω–∞, —Ä–∞—Å—à–∏—Ä—è–µ–º –Ω–∞—à–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ –≤ —Å–æ—Å–µ–¥–Ω–∏—Ö —Ä–µ–≥–∏–æ–Ω–∞—Ö.\n–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –¢–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç–∞ ‚Äì —ç—Ç–æ –µ—â–µ –æ–¥–∏–Ω —à–∞–≥ –Ω–∞ –ø—É—Ç–∏ –∫ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—é –Ω–∞—à–µ–π —Ü–µ–ª–∏:\n¬´–°—Ç–∞—Ç—å –ª—É—á—à–∏–º–∏ –≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö –≥–æ—Ä–æ–¥–∞—Ö –†–µ—Å–ø—É–±–ª–∏–∫–∏ –ë–∞—à–∫–æ—Ä—Ç–æ—Å—Ç–∞–Ω –∏ –†–æ—Å—Å–∏–π—Å–∫–æ–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏ –≤ –∞–≤—Ç–æ–º–æ–±–∏–ª—å–Ω–æ–º –±–∏–∑–Ω–µ—Å–µ, —Å—Ç–∞—Ç—å –Ω–æ–º–µ—Ä–æ–º –æ–¥–∏–Ω –≤ –ø—Ä–æ–¥–∞–∂–∞—Ö –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π –∫–∞–∫ –Ω–æ–≤—ã—Ö, —Ç–∞–∫ –∏ —Å –ø—Ä–æ–±–µ–≥–æ–º, —ç—Ç–æ –∑–Ω–∞—á–∏—Ç –ø—Ä–æ–¥–∞–≤–∞—Ç—å –±–æ–ª—å—à–µ –≤—Å–µ—Ö –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π –∏ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –Ω–∞—à–∏–º –∫–ª–∏–µ–Ω—Ç–∞–º –ª—É—á—à–∏–π —Å–µ—Ä–≤–∏—Å –≤ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π¬ª.\n–Ø –≤–µ—Ä—é, —á—Ç–æ —ç—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø–æ–º–æ–∂–µ—Ç –≤–∞–º —Å—Ç–∞—Ç—å –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º–∏ –∑–∞ —Å—á–µ—Ç —ç–∫–æ–Ω–æ–º–∏–∏ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –ø–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, —Å–æ–∑–¥–∞–Ω–∏—è –µ–¥–∏–Ω–æ–≥–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ –ø–æ–ª—è –∏ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞.\n–ò –ø—Ä–∏–∑—ã–≤–∞—é –≤–∞—Å –ø—Ä–∏–Ω—è—Ç—å –∞–∫—Ç–∏–≤–Ω–æ–µ —É—á–∞—Å—Ç–∏–µ –≤ –µ–≥–æ —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ–≤–∞–Ω–∏–∏. –ë–ª–∞–≥–æ–¥–∞—Ä—è –≤–∞—à–∏–º –∏–¥–µ—è–º, –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º, –∑–∞–º–µ—á–∞–Ω–∏—è–º –æ–Ω —Å—Ç–∞–Ω–µ—Ç –ª—É—á—à–∏–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –æ–±—â–µ–Ω–∏—è.')

# –í–≤—ã–¥–∏–º –Ω–æ–≤–æ—Å—Ç–∏
@dp.message_handler(Text(equals=['–ù–æ–≤–æ—Å—Ç–∏']))
async def point_new(message: types.Message):
    await news.command_news(message)

# –í–≤—ã–≤–æ–¥–∏–º –¥–æ–∫—É–º–µ–Ω—Ç—ã
@dp.message_handler(Text(equals=['–î–æ–∫—É–º–µ–Ω—Ç—ã']))
async def point_docks(message: types.Message):
    await docks.command_docks(message)

# –í–≤—ã–≤–æ–¥–∏–º –ü–µ—Ä—Å–æ–Ω–∞–ª
@dp.message_handler(Text(equals=['–ü–µ—Ä—Å–æ–Ω–∞–ª']))
async def point_person(message: types.Message):
    await person.command_person(message)

# –í–≤—ã–≤–æ–¥–∏–º EBITDA
@dp.message_handler(Text(equals=['EBITDA']))
async def point_EBITDA(message: types.Message):
    await news.command_news(message)

# –í–≤—ã–≤–æ–¥–∏–º –ü—è—Ä–º–∞—è —Å–≤—è–∑—å
@dp.message_handler(Text(equals=['–ü—Ä—è–º–∞—è —Å–≤—è–∑—å']))
async def point_direct(message: types.Message):
    await direct.command_direct(message)

# –û –∫–æ–º–ø–∞–Ω–∏–∏
@dp.message_handler(Text(equals=['–û –∫–æ–º–ø–∞–Ω–∏–∏']))
async def point_company(message: types.Message):
    await company.command_company(message)

# –ù–∞–∑–∞–¥
@dp.message_handler(Text(equals=['–ù–∞–∑–∞–¥']))
async def point_company(message: types.Message):
    await bot.send_message(message.from_user.id, '–í—ã–±–µ—Ä–∏—Ç–µ –ø—É–Ω–∫—Ç', reply_markup=kb_client)

# –í—ã—Ö–æ–¥–∏ –∏–∑ –ø—É–Ω–∫—Ç–∞ –æ–±—Ä–∞—â–µ–Ω–∏—è
@dp.message_handler(Text(equals=['Ha–∑–∞–¥']))
async def point_company(message: types.Message):
    await bot.send_message(message.from_user.id, '–í—ã–±–µ—Ä–∏—Ç–µ –ø—É–Ω–∫—Ç', reply_markup=kb_direct)



# –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –∫–æ–º–º–∞–Ω–¥—ã
def register_handlers_client(dp: Dispatcher):
    dp.register_message_handler(command_start, commands=['start'])
